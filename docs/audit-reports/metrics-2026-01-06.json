{
  "timestamp": "2026-01-06T23:25:06.382Z",
  "commit": "b66d158",
  "branch": "refactor/next",
  "scores": {
    "quality": 4.3,
    "maintainability": 8.5,
    "dry": 10,
    "tests": 0,
    "overall": 5.7
  },
  "metrics": {
    "quality": {
      "unsafeJsonParse": {
        "count": 4,
        "locations": [
          {
            "file": "lib\\services\\QuizStore.ts",
            "line": 130,
            "context": "const data = JSON.parse(content);"
          },
          {
            "file": "lib\\services\\QuizStore.ts",
            "line": 193,
            "context": "const parsed = sessionSchema.parse(JSON.parse(content));"
          },
          {
            "file": "lib\\services\\WikipediaCacheService.ts",
            "line": 84,
            "context": "const summary = JSON.parse(row.summary) as string[];"
          },
          {
            "file": "lib\\utils\\widgetStorage.ts",
            "line": 64,
            "context": "const parsed: StoredLayout = JSON.parse(stored);"
          }
        ]
      },
      "exposedErrors": {
        "count": 20,
        "locations": [
          {
            "file": "lib\\services\\llm\\AnthropicProvider.ts",
            "line": 46,
            "match": "String(error)",
            "context": "`Failed to summarize with Anthropic: ${error instanceof Error ? error.message : String(error)}`"
          },
          {
            "file": "lib\\services\\llm\\AnthropicProvider.ts",
            "line": 89,
            "match": "String(error)",
            "context": "error: error instanceof Error ? error.message : String(error),"
          },
          {
            "file": "lib\\services\\llm\\OllamaProvider.ts",
            "line": 46,
            "match": "String(error)",
            "context": "`Failed to summarize with Ollama: ${error instanceof Error ? error.message : String(error)}`"
          },
          {
            "file": "lib\\services\\llm\\OllamaProvider.ts",
            "line": 79,
            "match": "String(error)",
            "context": "error: error instanceof Error ? error.message : String(error),"
          },
          {
            "file": "lib\\services\\llm\\OpenAIProvider.ts",
            "line": 57,
            "match": "String(error)",
            "context": "`Failed to summarize with OpenAI: ${error instanceof Error ? error.message : String(error)}`"
          },
          {
            "file": "lib\\services\\llm\\OpenAIProvider.ts",
            "line": 70,
            "match": "String(error)",
            "context": "error: error instanceof Error ? error.message : String(error),"
          },
          {
            "file": "lib\\services\\OllamaSummarizerService.ts",
            "line": 81,
            "match": "String(error)",
            "context": "`Failed to summarize: ${error instanceof Error ? error.message : String(error)}`"
          },
          {
            "file": "lib\\services\\OllamaSummarizerService.ts",
            "line": 190,
            "match": "String(error)",
            "context": "error: error instanceof Error ? error.message : String(error),"
          },
          {
            "file": "lib\\services\\QuizManager.ts",
            "line": 428,
            "match": ".toString()",
            "context": "const answer = option || text || value?.toString() || \"\";"
          },
          {
            "file": "lib\\services\\SettingsService.ts",
            "line": 185,
            "match": ".toString()",
            "context": "if (settings.port !== undefined) this.db.setSetting(\"streamerbot.port\", settings.port.toString());"
          }
        ]
      },
      "asAnyCasts": {
        "count": 5,
        "locations": [
          {
            "file": "lib\\services\\QuizStore.ts",
            "line": 49,
            "match": "as any",
            "context": "const guests = (db.getAllGuests() as any[]).slice(0, 4);"
          },
          {
            "file": "lib\\services\\WikipediaResolverService.ts",
            "line": 36,
            "match": "as any",
            "context": "const wiki = (wikiModule as any).default || wikiModule;"
          },
          {
            "file": "lib\\utils\\CsvParser.ts",
            "line": 108,
            "match": "as any",
            "context": "type: type as any,"
          },
          {
            "file": "lib\\utils\\CsvParser.ts",
            "line": 161,
            "match": "as any",
            "context": "question.mode = row.mode as any;"
          },
          {
            "file": "lib\\adapters\\obs\\OBSEventHandler.ts",
            "line": 64,
            "match": "as any",
            "context": "obs.on(eventName as any, (data: unknown) => {"
          }
        ]
      },
      "magicNumbers": {
        "count": 0,
        "locations": []
      }
    },
    "maintainability": {
      "fileSizes": [
        {
          "file": "lib\\services\\DatabaseService.ts",
          "lines": 1113
        },
        {
          "file": "lib\\services\\QuizManager.ts",
          "lines": 727
        },
        {
          "file": "lib\\services\\WikipediaResolverService.ts",
          "lines": 627
        },
        {
          "file": "lib\\services\\WebSocketHub.ts",
          "lines": 490
        },
        {
          "file": "lib\\services\\QuizStore.ts",
          "lines": 303
        },
        {
          "file": "lib\\services\\SettingsService.ts",
          "lines": 299
        },
        {
          "file": "lib\\services\\WikipediaCacheService.ts",
          "lines": 298
        },
        {
          "file": "lib\\services\\ThemeService.ts",
          "lines": 276
        },
        {
          "file": "lib\\services\\OllamaSummarizerService.ts",
          "lines": 254
        },
        {
          "file": "lib\\repositories\\CueMessageRepository.ts",
          "lines": 235
        }
      ],
      "avgServiceLines": 218,
      "repositories": {
        "extracted": 6,
        "files": [
          "CueMessageRepository.ts",
          "GuestRepository.ts",
          "PosterRepository.ts",
          "ProfileRepository.ts",
          "RoomRepository.ts",
          "ThemeRepository.ts"
        ]
      }
    },
    "dry": {
      "proxyHelper": {
        "usingProxyHelper": 23,
        "usingRawFetch": 0
      },
      "estimatedDuplicateLines": 0
    },
    "tests": {
      "testFileCount": 32,
      "coverage": null
    }
  }
}